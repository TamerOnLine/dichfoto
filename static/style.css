/* ====== غلاف المعرض ====== */
.album-wrap {
  --gap: 10px;
  --radius: 12px;
  --overlap-sm: 18px;   /* مقدار التداخل البسيط */
  --overlap-md: 32px;   /* مقدار تداخل أكبر */
  --shadow: 0 8px 28px rgba(15, 23, 42, 0.12);
  padding: 8px 0 40px; /* مسافة سفليّة حتى ما تقطع التداخل الأخير */
}

/* ====== الشبكة ====== */
.gallery {
  display: grid;
  gap: var(--gap);
  grid-auto-rows: 1px; /* خدعة لحساب الارتفاع بالـ span */
  grid-template-columns: repeat(12, 1fr);
  align-items: start;
  /* مساحة علوية صغيرة حتى ما ينقص أول صف وقت التداخل */
  padding-top: var(--overlap-md);
}

/* موبايل: عمودين */
@media (max-width: 599px) {
  .gallery { grid-template-columns: repeat(2, 1fr); }
}

/* تابلت: 6 أعمدة */
@media (min-width: 600px) and (max-width: 1023px) {
  .gallery { grid-template-columns: repeat(6, 1fr); }
}

/* ديسكتوب: 12 عمود */
@media (min-width: 1024px) {
  .gallery { grid-template-columns: repeat(12, 1fr); }
}

/* ====== البطاقة/الصورة ====== */
.photo {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius);
  background: #f1f5f9;
  box-shadow: var(--shadow);

  /* العرض الافتراضي عبر الأعمدة (يتغير ريسبونسف) */
  grid-column: span 12;
  /* ارتفاع افتراضي محسوب: نخلي كل عنصر يساوي 220px تقريبياً */
  /* بما أننا حاطين grid-auto-rows:1px، نحدد الارتفاع بالـ span */
  grid-row: span 220;
}

.photo a,
.photo img { display: block; width: 100%; height: 100%; }

.photo img {
  object-fit: cover;
  transform: translateZ(0);
  transition: transform .35s ease;
}

.photo:hover img { transform: scale(1.035); }

/* أعمدة مختلفة حسب العرض */
@media (min-width: 600px) and (max-width: 1023px) {
  .photo { grid-column: span 3; }   /* 2 صور بالصف */
}
@media (min-width: 1024px) {
  .photo { grid-column: span 4; }   /* 3 صور بالصف */
}

/* عناصر أطول لتعميق التداخل */
.photo.tall { grid-row: span 320; }

/* ====== التداخل بين السطور ====== */
/* تحريك لأعلى بمقدار بسيط/متوسط مع ضبط تراكب الطبقات */
.photo.shift-up-sm {
  margin-top: calc(var(--overlap-sm) * -1);
  z-index: 2;
}
.photo.shift-up-md {
  margin-top: calc(var(--overlap-md) * -1);
  z-index: 3;
}

/* منع التداخل على الموبايل لو ضاق العرض كثير */
@media (max-width: 399px) {
  .photo.shift-up-sm,
  .photo.shift-up-md { margin-top: 0; }
}

/* حواف الصور قائمة (لو بدك تدوير غيّر القيمة) */
:root {
  --radius: 0px;   /* غيّرها لـ 12px لو بدك زوايا دائرية */
}

/* تحسينات صغيرة */
.photo::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  /* طبقة خفييفة لتجانس الحواف عند التداخل */
  box-shadow: inset 0 0 0 1px rgba(15,23,42,0.05);
}
